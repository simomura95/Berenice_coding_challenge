<p *ngIf="!todoItems"><em>Loading... Please refresh once the ASP.NET backend has started. See <a href="https://aka.ms/jspsintegrationangular">https://aka.ms/jspsintegrationangular</a> for more details.</em></p>

<!-- Item list -->
<div *ngIf="todoItems" class="d-flex flex-column gap-sm-2 gap-2">
  <div *ngFor="let todoItem of todoItems" class="d-flex justify-content-between text-start gap-sm-2 gap-1">
      <div [attr.contenteditable]="todoItem.isEditing" class="container flex-fill border rounded py-1" [ngClass]="todoItem.isEditing ? 'item-editing'  : 'item-normal'"> <!-- Item title and content -->
          <p class="title" [attr.id]="'title-' + todoItem.id">{{ todoItem.title ? todoItem.title : '_' }}</p> <!-- I allow for empty title and content, but put a placeholder, in case the user wants to edit them later-->
          <p class="content" [attr.id]="'content-' + todoItem.id">{{ todoItem.content ? todoItem.content : '_' }}</p>
          <!-- <p class="time" [attr.id]="'content-' + todoItem.id">{{ todoItem.createdAt }}</p> --> <!-- could add and show time of creation/update, if needed -->
          <!-- <p class="time" [attr.id]="'content-' + todoItem.id">{{ todoItem.updatedAt }}</p>  -->
      </div>
      <div class="d-flex flex-column flex-sm-row gap-2 justify-content-evenly">
        <button *ngIf="!todoItem.isEditing" class="btn btn-sm btn-primary" (click)="toggleEditMode(todoItem)">Edit</button> <!-- Edit button -->
        <button *ngIf="todoItem.isEditing" class="btn btn-sm btn-primary" (click)="editTodoItem(todoItem)">Save</button> <!-- Delete button -->
        <button class="btn btn-sm btn-danger" (click)="removeTodoItem(todoItem)">Delete</button>
      </div>
  </div>
</div>